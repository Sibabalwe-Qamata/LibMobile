<!DOCTYPE html>
<html>

<head>
	<title>LibraryFinder</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js" type="text/javascript"></script>
	<script>
		if (typeof $ == 'undefined') {
			document.write('<scri' + 'pt src="jquery.min.js"></scri' + 'pt>');
		}
	</script>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<meta charset="utf-8" />
	<script src="dist/geolib.js"></script>
	<script src="dist/geolib.isPointInsideRobust.js"></script>
	<script>
		$(function() {});
	</script>
	<link rel="stylesheet" href="css/visitor.css">
</head>

<body>
	<div class="header">
		<div class="row">
			<ul>
				<li style="float:right" class="dropdown">
					<a href="#projects" class="dropbtn">Category</a>
					<div class="dropdown-content">
						<a href="learner.html">Learner</a>
						<a href="student.html">Student</a>
						<a href="visitor.html">Visitor</a>

					</div>
				</li>
				<li style="float:right"><a href="">About</a></li>
				<li style="float:right"><a href="index.html" class="active">Home</a></li>
				<h6>Thank you for visiting the LibraryFinder App!</h6>
			</ul>
		</div>
		<div id="wrapper">
				<img src="https://image.ibb.co/iLaULT/Welcome_Students_1.jpg" alt="Welcome_Students_1" border="0">
			<div class="content">

				<div class="box" id="distance">
					<div class="inner">

									<div class="inner">
										<br>
<p > <b>This page shows the community libraries that are available for learners .</b></p>

											<br>
											<p>Show all distances in(Kilometers )
												<br>
												<select name="unit">
													<option value="km">Kilometers (km)</option>
												</select>.
											</p>
											<br>
											<hr class="linebre" style="margin-top: 1%;margin-bottom:1%;margin-right:20%;">
										<h2>Distance calculation from your location to the next library you want to visit:</h2>
										<br>
										<br>

										<p>Please select your location<br> <select name="city1"><option></option></select>
											<br>
											 The library location that you want to visit:
											 <br>
											 <select name="city2"><option></option></select>.</p>
										<br>
										<p class="result"></p>
									</div>
								</div>
								<hr style="margin-top: 1%;margin-bottom:1%;margin-right:20%;">
								<div class="box">
									<div class="inner">
										<h2>Nearby library</h2>
										<p>
											To show the nearest Community libraries near your location:
											<br>
											<br>
											Select your location below:
											<br>
											 <select name="city3"><option></option></select>
										</p>
										<br>
										<p id="nearest"></p>
									</div>
								</div>

							</div>
						</div>

						<script>
						$(function() {
							var cities = {
						    "Simon's Town , Community Library": {
						      latitude: 18.43675782,
						      longitude: -34.19380909
						    },
						    "Ocean View, Community Library": {
						      latitude: 18.35168538,
						      longitude: -34.14861945
						    },
						    "Kommetjie , Community Library": {
						      latitude: 18.32418372,
						      longitude: -34.14107253
						    },

						    "Muizenberg , Community Library": {
						      latitude: 18.47074576,
						      longitude: -34.1067818
						    },
						    "Hangberg , Community Library": {
						      latitude: 18.34198515,
						      longitude: -34.05339814
						    },


						    "Hout Bay, Community Library": {
						      latitude:     18.35836097 ,
						      longitude: - 34.04399894
						    },
						    "Camps Bay, Community Library": {
						      latitude:    18.37765926,
						      longitude: - 33.95378538
						    },
						    "Crossroads, Community Library": {
						      latitude:      18.59694877,
						      longitude: - 33.99829735
						    },

						    " Mamre, Community Library": {
						      latitude:       18.4764602,
						      longitude:- 33.51336321
						    },
						    " Avondale, Community Library": {
						      latitude: 18.48596708,
						      longitude:-33.57066369
						    },
						    " Koeberg, Community Library": {
						      latitude: 18.44599113,
						      longitude:-33.69311487
						    },
						    " Moses Mabhida, Community Library": {
						      latitude: 18.65105351	,
						      longitude: -34.01362094
						    },
						    " Mfuleni, Community Library": {
						      latitude: 18.68194942	,
						      longitude: 	-34.00394126
						    },
						    " 	Brown's Farm, Community Library": {
						      latitude: 18.58538859,
						      longitude: 	-34.00561138
						    },
						    " Phillipi East, Community Library": {
						      latitude: 18.60783875,
						      longitude: -34.01015166
						    },
						    " Maitland, Community Library": {
						      latitude: 18.48707473,
						      longitude: -33.9235559
						    },
						    "Gordon's Bay , Community Library": {
						      latitude: 18.87018468,
						      longitude:	-34.15708177
						    },
						    "Suider Strand , Community Library": {
						      latitude: 18.84138728,
						      longitude:-34.12796685
						    },
						    "Strand , Community Library": {
						      latitude: 18.83000612,
						      longitude:-34.11447245
						    },
						    "Helderzicht , Community Library": {
						      latitude: 18.83477516,
						      longitude:-34.08915583
						    },

						    "Strandfontein, Community Library": {
						      latitude: 18.55453144,
						      longitude:-34.07209846
						    },
						    "Rocklands, Community Library": {
						      latitude: 18.61130956,
						      longitude:-34.06456709
						    },
						    "Tokai, Community Library": {
						      latitude:18.43873418,
						      longitude:	-34.06320128
						    },
						    "Tafelsig, Community Library": {
						      latitude:18.63699329,
						      longitude:	-34.06191143
						    },
						    "Pelican Park ,Satellite Library": {
						      latitude:18.52709733,
						      longitude:-34.06182357
						    },
						    "Macassar , Community Library": {
						      latitude:18.76356549,
						      longitude:-34.06263711
						    },
						    "Retreat , Community Library": {
						      latitude:18.47618764,
						      longitude:-34.06299394
						    },
						    "Westridge , Community Library": {
						      latitude:18.60295414,
						      longitude:-34.05218937
						    },

						    "Kulani, Community Library": {
						      latitude:18.66014392,
						      longitude:-34.04236738
						    },

						    "Lotus River, Community Library": {
						      latitude:18.52014717,
						      longitude:-34.04131441
						    },

						    "Weltevreden , Community Library ": {
						      latitude:18.57977644,
						      longitude:-34.01827679
						    },
						    "Khayelitsha , Community Library": {
						      latitude:18.6655944,
						      longitude:-34.02614266
						    },
						    "Lentegeur , Community Library": {
						      latitude:18.60978347,
						      longitude:-34.03380225
						    },
						    "Plumstead , Community Library": {
						      latitude:18.46782409,
						      longitude:-34.02099283
						    },
						    "Southfield , Community Library": {
						      latitude:18.4807621,
						      longitude:-34.03023781
						    },
						    "Eersteriver , Community Library": {
						      latitude:18.72465962,
						      longitude:-34.00877047
						    },

						    "Hanover Park , Community Library": {
						      latitude:18.52725235,
						      longitude:-33.99480901
						    },

						    "Lansdowne, Community Library": {
						      latitude:18.50520564,
						      longitude:-33.99176628
						    },
						    "Nyanga, Community Library": {
						      latitude:18.58651135,
						      longitude:-33.99563434
						    },
						    "Delft South, Community Library": {
						      latitude:18.63921345,
						      longitude:-33.98600372
						    },

						    "Manenberg, Community Library": {
						      latitude:18.55555152	,
						      longitude:-33.99155846
						    },
						    "Rylands, Community Library": {
						      latitude:18.53436934,
						      longitude:-33.97044301
						    },

						    "Heideveld, Community Library": {
						      latitude:18.55357426,
						      longitude:-33.96490838
						    },

						    "Bridgetown, Community Library": {
						      latitude:18.5275876,
						      longitude:-33.95436443
						    },
						    "Valhalla Park,Community Library": {
						      latitude:18.56995176,
						      longitude:-33.95300125
						    },
						    "Huguenot Square, Community Library": {
						      latitude:18.64659705,
						      longitude:-33.94630667
						    },
						    "Mowbray, Community Library": {
						      latitude:18.47100678,
						      longitude:-33.94912127
						    },
						    "Bishop Lavis, Community Library": {
						      latitude:18.58315417,
						      longitude:-33.94925165
						    },
						    "Bonteheuwel, Community Library": {
						      latitude:18.55239964,
						      longitude:-33.95145231
						    },
						    "Langa, Community Library": {
						      latitude:18.52712895,
						      longitude:-33.94438414
						    },
						    "Belhar, Community Library": {
						      latitude:18.61465799,
						      longitude:-33.94421554
						    },
						    "Adriaanse, Community Library": {
						      latitude:18.58475578,
						      longitude:-33.93756723
						    },
						    "Vredehoek, Community Library": {
						      latitude:18.42714387,
						      longitude:-33.93750558
						    },
						    "Observatory, Community Library": {
						      latitude:18.47047918,
						      longitude:-33.93793033
						    },
						    "Kloof Street, Community Library": {
						      latitude:18.40663307,
						      longitude:-33.93497936
						    },
						    "P D Paulse, Community Library": {
						      latitude:18.67172195,
						      longitude:-33.93157914
						    },

						    "Kuilsriver, Community Library": {
						      latitude:18.67822409,
						      longitude:-33.92708792
						    },
						    "Woodstock, Community Library": {
						      latitude:18.45028807,
						      longitude:-33.92877612
						    },
						    "Woodstock, Community Library": {
						      latitude:18.45028807,
						      longitude:-33.92877612
						    },
						    "Elsies River, Community Library": {
						      latitude:18.57399974,
						      longitude:-33.92896065
						    },
						    "Ravensmead, Community Library": {
						      latitude:18.60333965,
						      longitude:-33.92240664
						    },
						    "Bellville South, Community Library": {
						      latitude:18.6426775,
						      longitude:-33.91524959
						    },
						    "Kensington, Community Library": {
						      latitude:18.51163727,
						      longitude:-33.90947026
						    },
						    "Brooklyn, Community Library": {
						      latitude: 18.48999439,
						      longitude: -33.90039143
						    },

						    "Tygervalley, Community Library": {
						      latitude: 18.63429994	,
						      longitude:-33.874461
						    },

						    "Scottsdene,Community Library": {
						      latitude: 18.72150099	,
						      longitude:-33.866623
						    },

						    "Eikendal, Community Library": {
						      latitude: 18.72196108,
						      longitude:-33.8525197
						    },
						    "Bothasig, Community Library": {
						      latitude:18.54377239,
						      longitude:-33.8625753
						    },
						    "Kraaifontein, Community Library": {
						      latitude:18.70548133,
						      longitude:-33.84124917
						    },

						    "Bloubergstrand, Community Library": {
						      latitude:18.46021659,
						      longitude:-33.80099663
						    },
						    "Sir Lowry's Pass, Community Library": {
						      latitude:18.9078949,
						      longitude:-34.1195685
						    },

						    "Leonsdale, Community Library": {
						      latitude:18.57569542,
						      longitude:-33.91943353
						    },
						    "Lwandle, Community Library": {
						      latitude:18.86488685,
						      longitude:-34.11856797
						    },
						    "Sea Point, Community Library": {
						      latitude:18.39776526,
						      longitude:-33.90757012
						    },

						    "Nazeema Isaacs, Community Library": {
						      latitude:18.70452824,
						      longitude:-34.04741615
						    },

						    "Fisantekraal, Community Library": {
						      latitude:18.71741369,
						      longitude:-33.78239463
						    },
						    "Harare, Community Library": {
						      latitude:18.67135539,
						      longitude:-34.05836239
						    },

						  };

							var unitLabels = {
								"m" : "Meters",
								"km": "Kilometers",
								"cm": "Centimeters",
								"mm": "Millimeters",
								"mi": "Miles",
								"sm": "Seamiles",
								"ft": "Feet",
								"in": "Inches",
								"yd": "Yards"
							};

							var option;
							$.each(cities, function(key, value) {
								option = $('<option />').val(key).text(key);
								$('select[name^="city"]').append(option);
							});


							$('select[name="city1"], select[name="city2"], select[name="unit"]').on('change', function() {

								if($('select[name="city1"]').val() && $('select[name="city2"]').val()) {

									try {

										var distance = geolib.getDistance(
											cities[$('[name="city1"]').val()],
											cities[$('[name="city2"]').val()]
										);

										var converted = geolib.convertUnit(
											$('[name="unit"]').val(), distance
										);

										var direction = geolib.getCompassDirection(
											cities[$('[name="city1"]').val()],
											cities[$('[name="city2"]').val()]
										);

										$('#distance').find('.result').html(
											'Distance from <br><strong>'
											+ $('[name="city1"] option:selected').text()
											+ '</strong> ('
											+ geolib.latitude(cities[$('[name="city1"] option:selected').text()])
											+ ', '
											+ geolib.longitude(cities[$('[name="city1"] option:selected').text()])
											+ ') to <br><strong>'
											+ $('[name="city2"] option:selected').text()
											+ '</strong> ('
											+ geolib.latitude(cities[$('[name="city2"] option:selected').text()])
											+ ', '
											+ geolib.longitude(cities[$('[name="city2"] option:selected').text()])
											+') is <strong style="text-decoration: underline">'
											+ converted + ' '
											+ $('[name="unit"]').val()
											+ '</strong>.<br> Compass direction is <strong>'
											+ direction.rough
											+ '/'
											+ direction.exact
											+ '</strong>'
										);
									} catch (e) {

										alert(e);

									}

								}

							});


							$('select[name="city1"]').on('change', function() {

								var val = $('select[name="city1"]').val();

								$('select[name="city2"]').find('option').removeAttr('disabled');
								$('select[name="city2"]').find('option[value="'+val+'"]').attr('disabled', 'disabled');

							});


							$('select[name="city2"]').on('change', function() {

								var val = $('select[name="city2"]').val();

								$('select[name="city1"]').find('option').removeAttr('disabled');
								$('select[name="city1"]').find('option[value="'+val+'"]').attr('disabled', 'disabled');

							});


							$('select[name="city3"], select[name="unit"]').on('change', function() {

								if($('[name="city3"]').val() == '') {
									return;
								}

								var nearest = geolib.findNearest(
									cities[$('[name="city3"]').val()],
									cities,
									1
								);

								$('#nearest').html(
									'Nearest library from <strong>'
									+ $('[name="city3"] option:selected').text()
									+ '</strong> is <strong>'
									+ nearest.key
									+ '</strong> ('
									+ geolib.convertUnit($('[name="unit"]').val(), nearest.distance)
									+ ' '
									+ $('[name="unit"]').val()
									+ ')'
								);


							});

						});
						</script>

						</body>

</html>
